<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>PHP Static Analyzer Benchmarks</title>
<style>*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'SF Mono','Menlo','Consolas',monospace;font-size:13px;line-height:1.5;color:#111;background:#fff;max-width:960px;margin:0 auto;padding:20px}
h1{font-size:16px;font-weight:bold;border-bottom:1px solid #111;padding-bottom:4px;margin-bottom:4px}
h2{font-size:14px;font-weight:bold;margin:20px 0 8px;border-bottom:1px solid #ddd;padding-bottom:2px}
.meta{color:#666;font-size:12px;margin-bottom:12px}
nav{margin:0 0 16px;display:flex;gap:12px}
nav label{font-size:12px;color:#666}
select{font-family:inherit;font-size:12px;padding:2px 4px;border:1px solid #999;background:#fff}
table{border-collapse:collapse;width:100%;margin:8px 0}
th,td{border:1px solid #ccc;padding:3px 8px;text-align:right;white-space:nowrap}
th{background:#f5f5f5;font-weight:bold;text-align:left}
td:first-child{text-align:left}
tr.winner td{font-weight:bold}
.bar-group{margin:12px 0 20px}
.bar-group h3{font-size:12px;margin:0 0 6px;font-weight:bold}
.bar-row{display:flex;align-items:center;margin:2px 0;font-size:11px}
.bar-label{width:180px;text-align:right;padding-right:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.bar-track{flex:1;height:18px;background:#f5f5f5;border:1px solid #ddd;position:relative}
.bar-fill{height:100%;background:#888}
.bar-value{padding-left:6px;min-width:70px;white-space:nowrap}
.winner-bar .bar-fill{background:#333}
.winner-bar .bar-label{font-weight:bold}
.diff-positive{color:#666}
.diff-negative{color:#111;font-weight:bold}
details{margin:4px 0;border:1px solid #eee;padding:4px 8px}
details[open]{padding-bottom:8px}
summary{cursor:pointer;font-weight:bold;padding:4px 0;font-size:12px}
.muted{color:#999;font-size:12px}
.sub-heading{font-size:12px;font-weight:bold;margin:8px 0 4px;color:#444}
section{margin-bottom:24px}</style>
</head>
<body>
<h1>PHP Static Analyzer Benchmarks</h1>
<p class="meta">Latest: 2026-02-22 05:42:32 &middot; 1 run(s)</p>
<nav>
<label>Project <select id="project-select"><option value="psl">psl</option><option value="wordpress">wordpress</option></select></label>
<label>Category <select id="category-select"><option value="Uncached">Uncached</option><option value="Cached">Cached</option></select></label>
</nav>
<section>
<h2>Latest Run</h2>
<div id="overview-content"></div>
</section>
<section>
<h2>Version Comparison</h2>
<div id="version-charts"></div>
</section>
<section>
<h2>Run-over-Run Diff</h2>
<div id="run-diff"></div>
</section>
<section>
<h2>Peak Memory (Latest Uncached)</h2>
<div id="memory-content"></div>
</section>
<section>
<h2>All Runs</h2>
<div id="details-content"></div>
</section>
<script>(function(){
"use strict";
var DATA=[{"generated":"2026-02-22 05:42:32","dir":"20260222-045400","projects":{"psl":{"Uncached":[{"analyzer":"Mago 1.7.0","mean":0.2151874026666667,"stddev":0.00046904854260975597,"min":0.21471979100000002,"max":0.21565787500000003,"memory_mb":223.9,"relative":1.0},{"analyzer":"Mago 1.8.0","mean":0.21821698633333333,"stddev":0.0005781668067446758,"min":0.21782841700000002,"max":0.21888141700000002,"memory_mb":216.4,"relative":1.0},{"analyzer":"Mago 1.9.1","mean":0.218584306,"stddev":0.002642482876572143,"min":0.21562783400000002,"max":0.220716125,"memory_mb":236.2,"relative":1.0},{"analyzer":"Phan 6.0.1","mean":3.426848278,"stddev":0.021724376189055206,"min":3.407158,"max":3.450153292,"memory_mb":4625.8,"relative":15.9},{"analyzer":"PHPStan 2.1.39","mean":4.170351639,"stddev":0.01090635022023863,"min":4.158962084,"max":4.180700125,"memory_mb":1718.8,"relative":19.4},{"analyzer":"PHPStan 2.1.34","mean":4.331155680666667,"stddev":0.05962852255720384,"min":4.290546334,"max":4.399613458,"memory_mb":1653.1,"relative":20.1},{"analyzer":"PHPStan 2.1.30","mean":4.8828522219999995,"stddev":0.035952174134806676,"min":4.841440125,"max":4.906075708,"memory_mb":1753.5,"relative":22.7},{"analyzer":"Psalm 6.15.1","mean":7.686092861333333,"stddev":0.03790298937077804,"min":7.643866709,"max":7.717173417,"memory_mb":1272.1,"relative":35.7},{"analyzer":"Psalm 7.0.0-beta16","mean":8.132535847,"stddev":0.012798891779769159,"min":8.118257792,"max":8.142978583,"memory_mb":1843.7,"relative":37.8}],"Cached":[{"analyzer":"PHPStan 2.1.39","mean":0.805867514,"stddev":0.02119011652393024,"min":0.791572833,"max":0.83021275,"memory_mb":null,"relative":1.0},{"analyzer":"PHPStan 2.1.30","mean":0.808319583,"stddev":0.01888246181612094,"min":0.794344291,"max":0.8298008750000001,"memory_mb":null,"relative":1.0},{"analyzer":"PHPStan 2.1.34","mean":0.8108432916666667,"stddev":0.015297897002140437,"min":0.797158875,"max":0.827359083,"memory_mb":null,"relative":1.0},{"analyzer":"Phan 6.0.1","mean":3.4321197223333333,"stddev":0.02267754148822901,"min":3.411863291,"max":3.456619042,"memory_mb":null,"relative":4.3},{"analyzer":"Psalm 6.15.1","mean":5.153498555,"stddev":0.018731155759734996,"min":5.138297166,"max":5.174423833,"memory_mb":null,"relative":6.4},{"analyzer":"Psalm 7.0.0-beta16","mean":5.749191305666667,"stddev":0.03521945934273488,"min":5.728612792,"max":5.78985825,"memory_mb":null,"relative":7.1}]},"wordpress":{"Uncached":[{"analyzer":"Mago 1.7.0","mean":1.8757555136666666,"stddev":0.04302037008789899,"min":1.843741333,"max":1.924657458,"memory_mb":1070.0,"relative":1.0},{"analyzer":"Mago 1.8.0","mean":2.048967986,"stddev":0.05617525644886748,"min":1.988531541,"max":2.099588084,"memory_mb":1044.8,"relative":1.1},{"analyzer":"Mago 1.9.1","mean":2.1091479583333332,"stddev":0.1030688993541943,"min":1.990158084,"max":2.17070575,"memory_mb":1017.0,"relative":1.1},{"analyzer":"Psalm 6.15.1","mean":11.373587917,"stddev":0.0119068911877857,"min":11.364225709,"max":11.386988875,"memory_mb":3958.3,"relative":6.1},{"analyzer":"Psalm 7.0.0-beta16","mean":27.449520402666668,"stddev":0.06059349183479957,"min":27.387784875,"max":27.508903333,"memory_mb":11764.1,"relative":14.6},{"analyzer":"Phan 6.0.1","mean":60.653878305666666,"stddev":0.04334018963037731,"min":60.60455625,"max":60.685879167,"memory_mb":14294.7,"relative":32.3},{"analyzer":"PHPStan 2.1.39","mean":61.853570986,"stddev":0.3441298445764622,"min":61.599775208,"max":62.245263375,"memory_mb":7119.0,"relative":33.0},{"analyzer":"PHPStan 2.1.34","mean":65.93213670799999,"stddev":0.43885417182410935,"min":65.425517,"max":66.195210666,"memory_mb":6908.9,"relative":35.1},{"analyzer":"PHPStan 2.1.30","mean":83.63498441666665,"stddev":0.7466937443364112,"min":82.956561,"max":84.435019083,"memory_mb":7308.9,"relative":44.6}],"Cached":[{"analyzer":"PHPStan 2.1.30","mean":5.951743764333333,"stddev":0.005301021450241411,"min":5.9473949170000004,"max":5.957648667,"memory_mb":null,"relative":1.0},{"analyzer":"PHPStan 2.1.39","mean":6.176634805333333,"stddev":0.0043160337344368815,"min":6.173100583,"max":6.181444958,"memory_mb":null,"relative":1.0},{"analyzer":"PHPStan 2.1.34","mean":6.226086236,"stddev":0.006439089754459731,"min":6.219826417,"max":6.23269075,"memory_mb":null,"relative":1.0},{"analyzer":"Psalm 6.15.1","mean":7.841510361,"stddev":0.047070095954214686,"min":7.80898275,"max":7.8954843750000006,"memory_mb":null,"relative":1.3},{"analyzer":"Psalm 7.0.0-beta16","mean":25.274318625333333,"stddev":0.07821149943754181,"min":25.217934334,"max":25.363606167,"memory_mb":null,"relative":4.2},{"analyzer":"Phan 6.0.1","mean":60.36185741666666,"stddev":0.26145639016609806,"min":60.084163625,"max":60.603291166,"memory_mb":null,"relative":10.1}]}}}];
var projSel=document.getElementById("project-select");
var catSel=document.getElementById("category-select");
function curProj(){return projSel.value}
function curCat(){return catSel.value}
projSel.addEventListener("change",render);
catSel.addEventListener("change",render);

function fmt(v){return v<10?v.toFixed(3):v<100?v.toFixed(2):v.toFixed(1)}

function getEntries(run,proj,cat){
    return((run.projects[proj]||{})[cat])||[];
}

function renderOverview(){
    var run=DATA[DATA.length-1];
    var entries=getEntries(run,curProj(),curCat());
    if(!entries.length){document.getElementById("overview-content").innerHTML='<p class="muted">No data.</p>';return}
    var h='<table><tr><th>Analyzer</th><th>Mean</th><th>&plusmn; StdDev</th><th>Min</th><th>Max</th><th>Memory</th><th>Relative</th></tr>';
    for(var i=0;i<entries.length;i++){
        var e=entries[i];
        var w=e.relative<=1.0;
        h+='<tr'+(w?' class="winner"':'')+'>';
        h+='<td>'+e.analyzer+'</td>';
        h+='<td>'+fmt(e.mean)+'s</td>';
        h+='<td>&plusmn; '+fmt(e.stddev)+'s</td>';
        h+='<td>'+fmt(e.min)+'s</td>';
        h+='<td>'+fmt(e.max)+'s</td>';
        h+='<td>'+(e.memory_mb!==null?e.memory_mb.toFixed(1)+' MB':'-')+'</td>';
        h+='<td>'+(w?'1.0x':'x'+e.relative.toFixed(1))+'</td>';
        h+='</tr>';
    }
    h+='</table>';
    document.getElementById("overview-content").innerHTML=h;
}

function parseTool(analyzer){
    var m=analyzer.match(/^(.+?)\s+([\d].+)$/);
    if(!m)return{tool:analyzer,version:""};
    return{tool:m[1],version:m[2]};
}

function renderVersionCharts(){
    var run=DATA[DATA.length-1];
    var entries=getEntries(run,curProj(),curCat());
    if(!entries.length){document.getElementById("version-charts").innerHTML='<p class="muted">No data.</p>';return}

    var tools={};
    for(var i=0;i<entries.length;i++){
        var p=parseTool(entries[i].analyzer);
        if(!tools[p.tool])tools[p.tool]=[];
        tools[p.tool].push({version:p.version,mean:entries[i].mean,analyzer:entries[i].analyzer});
    }

    var h='';
    var toolNames=Object.keys(tools).sort();
    for(var ti=0;ti<toolNames.length;ti++){
        var name=toolNames[ti];
        var vers=tools[name];
        if(vers.length<2){continue}
        vers.sort(function(a,b){return a.version.localeCompare(b.version,undefined,{numeric:true})});
        var maxMean=0;
        for(var vi=0;vi<vers.length;vi++){if(vers[vi].mean>maxMean)maxMean=vers[vi].mean}
        var minMean=vers[0].mean;
        for(var vi2=0;vi2<vers.length;vi2++){if(vers[vi2].mean<minMean)minMean=vers[vi2].mean}

        h+='<div class="bar-group"><h3>'+name+'</h3>';
        for(var vi3=0;vi3<vers.length;vi3++){
            var v=vers[vi3];
            var pct=(v.mean/maxMean*100).toFixed(1);
            var isWinner=v.mean===minMean;
            h+='<div class="bar-row'+(isWinner?' winner-bar':'')+'">';
            h+='<div class="bar-label">'+v.analyzer+'</div>';
            h+='<div class="bar-track"><div class="bar-fill" style="width:'+pct+'%"></div></div>';
            h+='<div class="bar-value">'+fmt(v.mean)+'s</div>';
            h+='</div>';
        }
        h+='</div>';
    }

    if(!h){h='<p class="muted">No multi-version tools for this combination.</p>'}
    document.getElementById("version-charts").innerHTML=h;
}

function renderRunDiff(){
    if(DATA.length<2){document.getElementById("run-diff").innerHTML='<p class="muted">Need at least 2 runs to show diff.</p>';return}
    var latest=DATA[DATA.length-1];
    var prev=DATA[DATA.length-2];
    var proj=curProj(),cat=curCat();
    var cur=getEntries(latest,proj,cat);
    var old=getEntries(prev,proj,cat);
    if(!cur.length||!old.length){document.getElementById("run-diff").innerHTML='<p class="muted">No comparable data.</p>';return}

    var oldMap={};
    for(var i=0;i<old.length;i++){oldMap[old[i].analyzer]=old[i]}

    var rows=[];
    for(var j=0;j<cur.length;j++){
        var c=cur[j];
        var o=oldMap[c.analyzer];
        if(!o){continue}
        var delta=c.mean-o.mean;
        var pct=((delta/o.mean)*100);
        rows.push({analyzer:c.analyzer,prev:o.mean,curr:c.mean,delta:delta,pct:pct});
    }

    if(!rows.length){document.getElementById("run-diff").innerHTML='<p class="muted">No matching analyzers between runs.</p>';return}

    var h='<p class="muted">Comparing: '+latest.generated+' vs '+prev.generated+'</p>';
    h+='<table><tr><th>Analyzer</th><th>Previous</th><th>Current</th><th>Delta</th><th>Change</th></tr>';
    for(var r=0;r<rows.length;r++){
        var row=rows[r];
        var cls=row.delta<=0?'diff-negative':'diff-positive';
        var sign=row.delta<=0?'':'+';
        h+='<tr><td>'+row.analyzer+'</td>';
        h+='<td>'+fmt(row.prev)+'s</td>';
        h+='<td>'+fmt(row.curr)+'s</td>';
        h+='<td class="'+cls+'">'+sign+fmt(row.delta)+'s</td>';
        h+='<td class="'+cls+'">'+sign+row.pct.toFixed(1)+'%</td>';
        h+='</tr>';
    }
    h+='</table>';
    document.getElementById("run-diff").innerHTML=h;
}

function renderMemory(){
    var run=DATA[DATA.length-1];
    var entries=getEntries(run,curProj(),"Uncached").filter(function(e){return e.memory_mb!==null});
    if(!entries.length){document.getElementById("memory-content").innerHTML='<p class="muted">No memory data.</p>';return}
    entries.sort(function(a,b){return a.memory_mb-b.memory_mb});
    var minMem=entries[0].memory_mb;
    var h='<table><tr><th>Analyzer</th><th>Peak Memory (MB)</th><th>Relative</th></tr>';
    for(var i=0;i<entries.length;i++){
        var e=entries[i];
        var rel=(e.memory_mb/minMem).toFixed(1);
        var w=e.memory_mb===minMem;
        h+='<tr'+(w?' class="winner"':'')+'><td>'+e.analyzer+'</td>';
        h+='<td>'+e.memory_mb.toFixed(1)+'</td>';
        h+='<td>'+(w?'1.0x':'x'+rel)+'</td></tr>';
    }
    h+='</table>';
    document.getElementById("memory-content").innerHTML=h;
}

function buildTable(entries){
    var h='<table><tr><th>Analyzer</th><th>Mean</th><th>StdDev</th><th>Min</th><th>Max</th><th>Memory</th><th>Rel</th></tr>';
    for(var i=0;i<entries.length;i++){
        var e=entries[i];
        h+='<tr><td>'+e.analyzer+'</td>';
        h+='<td>'+fmt(e.mean)+'s</td>';
        h+='<td>'+fmt(e.stddev)+'s</td>';
        h+='<td>'+fmt(e.min)+'s</td>';
        h+='<td>'+fmt(e.max)+'s</td>';
        h+='<td>'+(e.memory_mb!==null?e.memory_mb.toFixed(1)+' MB':'-')+'</td>';
        h+='<td>'+(e.relative<=1.0?'1.0x':'x'+e.relative.toFixed(1))+'</td></tr>';
    }
    return h+'</table>';
}

function renderDetails(){
    var h='';
    for(var i=DATA.length-1;i>=0;i--){
        var run=DATA[i];
        h+='<details>';
        h+='<summary>'+run.generated+' ('+run.dir+')</summary>';
        var projs=Object.keys(run.projects).sort();
        for(var pi=0;pi<projs.length;pi++){
            var cats=Object.keys(run.projects[projs[pi]]).sort();
            for(var ci=0;ci<cats.length;ci++){
                h+='<div class="sub-heading">'+projs[pi]+' / '+cats[ci]+'</div>';
                h+=buildTable(run.projects[projs[pi]][cats[ci]]);
            }
        }
        h+='</details>';
    }
    document.getElementById("details-content").innerHTML=h;
}

function render(){renderOverview();renderVersionCharts();renderRunDiff();renderMemory();renderDetails()}
render();
})();</script>
</body>
</html>